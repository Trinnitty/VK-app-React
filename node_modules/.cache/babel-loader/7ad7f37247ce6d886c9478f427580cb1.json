{"ast":null,"code":"export var LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport var LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport var LOGIN_FAIL = \"LOGIN_FAIL\";\nexport function handleLogin() {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN_REQUEST\n    }); //eslint-disable-next-line no-undef\n\n    VK.Auth.login(function (r) {\n      console.log(r, 'r');\n\n      if (r.session) {\n        var username = r.session.user.first_name;\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: username\n        });\n      } else {\n        dispatch({\n          type: LOGIN_FAIL,\n          error: true,\n          payload: new Error(\"Ошибка авторизации\")\n        });\n      }\n    }, 4); // запрос прав на доступ к photo\n  };\n}","map":{"version":3,"sources":["E:\\react\\redux-react\\src\\actions\\UserActions.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","handleLogin","dispatch","type","VK","Auth","login","r","console","log","session","username","user","first_name","payload","error","Error"],"mappings":"AAAA,OAAO,IAAMA,aAAa,GAAG,eAAtB;AACP,OAAO,IAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,IAAMC,UAAU,GAAG,YAAnB;AAEP,OAAO,SAASC,WAAT,GAAuB;AAC5B,SAAO,UAASC,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL;AADC,KAAD,CAAR,CADwB,CAKxB;;AACAM,IAAAA,EAAE,CAACC,IAAH,CAAQC,KAAR,CAAc,UAAAC,CAAC,EAAI;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAAe,GAAf;;AACF,UAAIA,CAAC,CAACG,OAAN,EAAe;AACb,YAAIC,QAAQ,GAAGJ,CAAC,CAACG,OAAF,CAAUE,IAAV,CAAeC,UAA9B;AAEAX,QAAAA,QAAQ,CAAC;AACPC,UAAAA,IAAI,EAAEJ,aADC;AAEPe,UAAAA,OAAO,EAAEH;AAFF,SAAD,CAAR;AAID,OAPD,MAOO;AACLT,QAAAA,QAAQ,CAAC;AACPC,UAAAA,IAAI,EAAEH,UADC;AAEPe,UAAAA,KAAK,EAAE,IAFA;AAGPD,UAAAA,OAAO,EAAE,IAAIE,KAAJ,CAAU,oBAAV;AAHF,SAAD,CAAR;AAKD;AACF,KAhBD,EAgBG,CAhBH,EANwB,CAsBjB;AACR,GAvBD;AAwBD","sourcesContent":["export const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\n\r\nexport function handleLogin() {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: LOGIN_REQUEST\r\n    });\r\n\r\n    //eslint-disable-next-line no-undef\r\n    VK.Auth.login(r => {\r\n        console.log(r, 'r')\r\n      if (r.session) {\r\n        let username = r.session.user.first_name;\r\n\r\n        dispatch({\r\n          type: LOGIN_SUCCESS,\r\n          payload: username\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: LOGIN_FAIL,\r\n          error: true,\r\n          payload: new Error(\"Ошибка авторизации\")\r\n        });\r\n      }\r\n    }, 4); // запрос прав на доступ к photo\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}